<template>
  <svg ref="cooper" viewBox="0 0 101.8 145">
    <g ref="arm">
      <path d="M45.6 105.9l.9-1c1-1 4.1-4 12.5-10.6 4.2-3.3 6.3-4.9 7.4-6l-.9 1c-1.1 1.1-3.2 2.7-7.4 6-8.4 6.6-11.5 9.6-12.5 10.6zM73.1 82.9l.9-1c0 .1-.5 2.2.5 4.3 1 2.1 3.1 3.4 3.2 3.5l-.9 1c-.1-.1-2.2-1.4-3.2-3.5s-.5-4.2-.5-4.3zM81.6 91.5l-.9 1c1.5-1.6 2.4-3 2.3-3.5 0-.3-.2-.4-.5-.4-.2 0-.4.1-.7.2-1.9.8-4.8 1.7-4.9 1.8l.9-1c.2-.1 3-1 4.9-1.8.3-.1.5-.2.7-.2.3 0 .5.1.5.4.1.5-.8 2-2.3 3.5zM80 78.7c0 .1-.1.3-.3.5l-.9 1c.2-.2.3-.4.3-.5-.1-.6-2.7-1.3-5.4-1-1.6.2-3.3.6-4.4 1.6l-.3.3.9-1 .3-.3c1.2-1 2.8-1.5 4.4-1.6 2.7-.3 5.3.4 5.4 1z" fill="#293b67"/>
      <path d="M73.6 78.6c2.7-.3 5.3.4 5.4 1 0 .3-.4.8-1.3 1.2-1.8.9-4.5 2-4.6 2.1 0 .1-.5 2.2.5 4.3 1 2.1 3.1 3.4 3.2 3.5.2-.1 3-1 4.9-1.8.3-.1.5-.2.7-.2.3 0 .5.1.5.4.1.6-1.4 2.9-3.8 4.8-.7.6-1.6.9-2.5 1-1 .1-2 0-2.9-.1-1-.1-1.9-.2-2.6-.2h-.3c-2.6.5-3.6 1.2-9.9 5.6-10.7 7.6-12.8 9.1-12.9 9.2-.1 0-1 .9-2.2 1-.6.1-1.1-.1-1.6-.7-1.4-1.8.8-3.3.9-3.4.1-.1 2.3-2.7 12.9-11 6.5-5.1 8.2-6.3 8.2-7.5.1-1.8.5-5.4 2.8-7.5 1.3-1 3-1.5 4.6-1.7z" fill="#d5e5f2"/>
      <path d="M46.2 106.7c1-1.2 5.2-4.5 7.8-6.6 2.6-2 9-7.1 11.3-8.6 2.5-1.6 4.4.4 1.6 2.4-2.8 2.1-17.6 13.3-19.2 14.4-1.7 1.1-2.9.1-1.5-1.6z" fill="#89a9c7"/>
      <ellipse cx="58.7" cy="93.6" rx="2" ry="1.9" fill="#f3ddc3"/>
      <path d="M46.9 75.8c.9.4 6.8 10.3 6.8 10.3s4.3 4.2 5.3 5c1 .8-1.2 4.2-2.8 3.4-1.5-.8-5.1-4-5.1-4s-6.9-7.8-7.1-9c-.5-1.1 1.9-6.2 2.9-5.7z" fill="#293b67"/>
      <path d="M57.9 94c-.6.5-1.2.8-1.8.5-1.5-.8-5.1-4-5.1-4s-2.1-2.4-4.1-4.8c-.2-2.1 3.8 3.7 4.5 4.4 2.4 2.4 5.5 4.5 6.5 3.9z" opacity=".2"/>
    </g>
    <ellipse cx="21.9" cy="95.9" rx="2" ry="1.9" fill="#f3ddc3"/>
    <path d="M35.5 127.3c-1.6.3-2.4-.3-3.4-1.5s-1.8-3.7-1.7-4.5c.1-.9.9-1.3 1.2-1.2.6.3 3.6 1.4 3.9 2.7.3 1 1.5 4.3 0 4.5z" fill="#846d5e"/>
    <path d="M33.6 127.1c-.5-.3-.9-.7-1.4-1.3-1-1.2-1.8-3.7-1.7-4.5.1-.9.9-1.3 1.2-1.2.2.1 1.4 1.1 2.1 2.3-2 .9.1 4.8-.2 4.7z" opacity=".2"/>
    <path d="M21.3 123.7c-1.8 0-2.5-.7-3.4-2.1-.9-1.4-1.4-4.2-1.2-5.1.2-.9 1.1-1.3 1.4-1.1.6.5 3.7 2 3.8 3.4.1 1.3 1 4.9-.6 4.9z" fill="#846d5e"/>
    <path d="M19.7 123.5c-.8-.3-1.3-.9-1.8-1.9-.9-1.4-1.4-4.2-1.2-5.1.2-.9 1.1-1.3 1.4-1.1.2.2.9 1.3 1.6 2.7-1.5 1.3-.5 3.8 0 5.4z" opacity=".2"/>
    <path d="M30.9 99s-2.3 9-3.4 10.2c-1.1 1.2-8.6 5.4-9.5 5.8-.9.4 2 4.5 3.3 4.1 1.2-.4 10-4.7 12.1-6.2s3.8-5.1 3.8-5.1l-.2 5.9s-5.4 5.3-6.2 6.2 3.4 4.5 4.9 2.8c1.1-1.2 8.3-8.1 8.3-8.1L46.5 99H30.9z" fill="#fae658"/>
    <path d="M30.9 99s-2.3 9-3.4 10.2c-1.1 1.2-8.6 5.4-9.5 5.8-.5.2 0 1.3.8 2.4 0-2 9.8-5.6 11-7.8 1.3-2.3.6-9.7 3.1-9.1 1.4.3-2-1.5-2-1.5zM39 104.6c-.7 1.4-1.8 3.2-1.8 3.2l-.2 5.9s-5.4 5.3-6.2 6.2c-.4.5.5 1.6 1.6 2.4-1.6-2.4 5.5-7.8 5.8-8.2.3-.5.3-2.4.1-3.5-.1-1 .2-2.4.2-3.2.1-.8.3-1.5.5-2.8z" opacity=".1"/>
    <path d="M31.4 75.3c-4.7 3-7 6.8-8.2 8.9-1.1 1.9-2.7 8.5-2.8 9.8 0 1.1 3.2 1.8 3.8.6.8-1.6 3.5-8.4 3.5-8.4s6.5-4.4 6.8-5.6c.4-1.2-1.7-3-3.1-5.3z" fill="#293b67"/>
    <path d="M23.2 84.3c-1.1 1.9-2.7 8.5-2.8 9.8 0 .8 1.7 1.4 2.8 1.2-2.8-1.3 1.2-13.1 0-11z" opacity=".2"/>
    <path d="M32.1 75c6-1.5 8-2.2 14.7.7.7.3.2 5.5.1 10-.2 5.7.3 12-.4 13.2-1.2 2.2-15.1 2.7-15.7 0-.4-2 .4-9.2.5-15.3.1-2.6-2.5-7.7.8-8.6z" fill="#293b67"/>
    <path d="M36 74.1c-.5.5 0 2.1.9 2.6 1.3.7 3.9.7 4.9.1.9-.4 1.3-2.2.8-2.6-.4-.4-6.1-.6-6.6-.1z" fill="#fff"/>
    <path d="M36.9 100.9c-3.1-.1-5.9-.6-6.1-1.8-.4-2 .4-9.2.5-15.3 1.8-.3-2.4 15.2 5.6 17.1z" opacity=".2"/>
    <path d="M35.2 71.3s.6 2.5 1 3.4.7 2 2.9 2 2.8-.2 3.1-1.4c.4-1.1 1.3-3.9 1.3-3.9s-2.4.7-4.2 1.1c-1.8.3-4.1-1.2-4.1-1.2" fill="#e2cfbb"/>
    <path d="M36.2 74.8c.3 1 .7 2 2.9 2s2.8-.2 3.1-1.4c-.6 1-4.5 2.1-6-.6z" opacity=".1"/>
    <path d="M35.2 71.3l.5 1.9s1.7.1 3.6-.2c1.9-.3 4.2-1.3 4.2-1.3v-.2c-.2.1-.3.1-.5.1l-1.5.3c-.1 0-.1 0-.2.1H41c-2 .4-4 .1-5.8-.7" fill="#d3c2b2"/>
    <path d="M37.5 36.9c-1.7.3-4 .9-5.4 2.3-2.6 2.1-5 9.6-6.1 12 .5 14.5 9.1 21.1 18.2 19.5 1.4-.2 3.3-1.2 4.8-1.8 4.4-2.7 7.3-10.9 7.6-20.5l-.9-7.2c-.6.1-.8-3.5-2.5-5-2-1.8-13.9.3-13.9.3s-.7.1-1.8.4" fill="#ffe8cc"/>
    <path d="M25 50.1c-1 .2-1.3 2.4-1.3 3.2.7 5.2 2.7 9.2 4.8 12.5 1.2 1.9 3.6 4.3 6.7 5.5 1.7.7 3.5.9 5.7.7 2.2-.2 3.6-.2 8.3-3.3-1.7.9-3.1 1.2-4.4 1.4-9.2 1.6-16.1-4.4-16.6-19-.2.4-.4.2-.6.2-.2.1-.4-.1-.7-.3-.8-.8-1.4-1-1.9-.9" fill="#f3ddc3"/>
    <path d="M24.1 40.4c0 .1-.1.1 0 .2v-.2m7-12v.1-.1M37.4 26.2c.2 0-9.8 11.3-11.7 13.7-1.7 2.2-2.2 5.4-2.4 5.5-.1 2.2-.1 4.9.4 8.2v-.3c.1-.7.4-2.4 1.3-2.7.4-.1 1.1.2 1.8 1 .3.3.5.4.7.3.3-.1.5-.3.6-.7 1-2.4 1.3-9.9 3.9-12 1.3-1.4 7.3-2.6 7.3-2.6s11.3-1.1 13.3.8c1.7 1.5 3.3 11.2 3.8 11.1l.1-.1c0-.2.1-.7.1-1.6 0-4.3-.7-9.5-1.9-12-.2-1-16.4-8.6-17.3-8.6m-.1 0c-.2.1-.3.1-.3.3.1-.1.1-.2.3-.3" fill="#f2cf6f"/>
    <path d="M26.3 35.8c-.5.3-1.1-.4-1.1-.4-.7 1.1-1.4 3.3-1.7 4.8-.2 1.5-.3 3.2-.3 4.8v3c.2-.1 1.3-6 3-8.1" fill="#d8b45c"/>
    <path d="M43 55.7c-1 .2-1.9.8-1.9 1.4 0 .6 2.2.6 3.6.4.7-.1 1.2-.3 1.1-.6 0-.8-1-1.4-2.3-1.3-.1.1-.3.1-.5.1" fill="#d3bfae"/>
    <path d="M39.6 62.7c-.7.1-1.3.6-1.3 1.4-.2 2 2.1 3.9 4.4 3.9.2 0 .4 0 .6-.1 2.1-.3 4.2-2.2 4.4-4.1.1-.9-.6-1.3-1.4-1.3l-6.3.2h-.4" fill="#824446"/>
    <path d="M40.9 67.6c.6.3 1.2.4 1.8.4.2 0 .4 0 .6-.1.5-.1 1-.2 1.4-.5 0-.6-.3-1.6-1.4-1.8-.5-.1-1.3 0-1.9.5-.5.6-.5 1.5-.5 1.5z" fill="#f37879"/>
    <path d="M35.5 50.8c.5-.5 1.3-.8 2.1-.8.7 0 1.4.2 1.9.6.3.2.7.1.9-.2.2-.3.1-.7-.2-.9-.8-.5-1.7-.8-2.6-.8-1.1 0-2.2.4-3 1.1-.2.2-.3.6 0 .9.3.4.7.4.9.1zM47 50.3c.5-.5 1.3-.8 2.1-.8.7 0 1.4.2 1.9.6.3.2.7.1.9-.2.2-.3.1-.7-.2-.9-.8-.5-1.7-.8-2.6-.8-1.1 0-2.2.4-3 1.1-.2.2-.3.6 0 .9.2.3.6.3.9.1z" fill="#293b67"/>
    <g>
      <defs>
        <path id="ahat" d="M24.1 37.1c.6-1.2-.2-4.6 6.5-9.7 7.9-6 17.6-1.8 20.2.3 3.4 2.9 3.7 4.7 4.1 5.8.8 1.9-2.3 7.9-19.8 8.7-9.8.3-11.6-3.2-11-5.1z"/>
      </defs>
      <clipPath id="bhat">
        <use xlink:href="#ahat" overflow="visible"/>
      </clipPath>
      <path d="M24.1 37.5c.6-1.2 29.6-4.4 30-3.2.8 1.9-2.5 7.4-19.6 8.1-9.8.4-11-3-10.4-4.9z" opacity=".1"/>
      <path d="M23.5 58.3c-4-8.6-2.5-18.6 1.9-26.3.9-1.6 3.3-5.8 3.7-6.1.4-.4.9-.8 1.4-1.2 9.2-6.9 20.9-3.1 26.1 8.5s2.2 26.7-7 33.6c-9.1 7-20.8 3.1-26.1-8.5z" clip-path="url(#bhat)" fill="#fff"/>
      <path d="M37.6 26.3c-.2-.6-1.1-3.1-1.8-3.2 0 0 1.7-.3 1.8-.3 1.6-.3 2.6-.3 4.3-.1-.6.2-2.2 1.8-2.3 2.8-1.1 1.5-2 .8-2 .8z" clip-path="url(#bhat)" fill="#f0717a"/>
      <path d="M39.7 25.8c2.8-.8 15.2.4 15.4 9.8-1.7 8.9-5.2 11.2-6.4 11.8.5-3.8.3-18.8-9.7-20.7.1-1.4-.1-.3.7-.9zM37.7 26c0 .4.8.2.3.6-4.2 2.5-5.8 7.4-6.5 17C29 55 20.4 45.4 22 38.9c.4-1.7.7-1.8 1.4-3.4C26 28 34.1 26 37.7 26z" clip-path="url(#bhat)" fill="#f0717a"/>
      <path d="M24.1 37.1c.3-.7.2-2.2 1.4-4.3.8-1.4 2.8-3.8 4.8-4.9-5.6 8.4-1 10.1 1.7 14.3-3.1-.1-8.8-1.5-7.9-5.1z" opacity=".1" clip-path="url(#bhat)"/>
      <ellipse transform="rotate(-9.329 38.51 26.164)" cx="38.5" cy="26.2" rx="1.6" ry=".7" fill="#293b67"/>
      <path d="M38.6 26.7c-.2.1-.4-.2-.5-.5l-.2-2.4c-.1-.3.2-.6.4-.7.2-.1.4.2.5.5L39 26c.1.3-.1.6-.4.7z" fill="#293b67"/>
      <path ref="spinner" d="M38.4 24.1s9.2-2.9 11.3-3.6c2.9-1 6.3-1.4 7.4-.3s-.4 2.8-2.9 3.2-15.7 1.3-15.7 1.3-13.1 4.3-15 4.9c-3.7 1.3-4.8.2-5.3-.8s.5-2.9 4-3.2c4-.2 16.2-1.5 16.2-1.5z" fill="#293b67"/>
    </g>
  </svg>
</template>

<script>
import { gsap } from 'gsap'

export default {
  name: 'animated-cooper',
  data () {
    return {
      angleCount: 0
    }
  },
  mounted () {
    gsap.set(this.$refs.spinner, { transformOrigin: 'center' })
    gsap.set(this.$refs.arm, { transformOrigin: '2 2' })
    setInterval(() => {
      this.angleCount += 0.25

      // Move the whole person up and down
      gsap.set(this.$refs.cooper, { translateY: Math.sin(this.angleCount / 10) * 8 })

      // Move the arm with the wrench
      gsap.set(this.$refs.arm, { rotate: Math.sin(this.angleCount / 10 - 1.5) * 8 })

      // Spin the spinner on the hat
      gsap.set(this.$refs.spinner, { scaleX: Math.cos(this.angleCount) * 1.2 })
      gsap.set(this.$refs.spinner, { scaleY: Math.sin(this.angleCount) * 1.2 })
    }, 20)
  }
}
</script>
